(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[624],{1364:function(e,l,t){Promise.resolve().then(t.bind(t,3541))},3541:function(e,l,t){"use strict";t.r(l),t.d(l,{default:function(){return s}});var a=t(7437),r=t(2265);let n=[{value:"DE",label:"Almanya"},{value:"TR",label:"T\xfcrkiye"},{value:"NL",label:"Hollanda"},{value:"AT",label:"Avusturya"},{value:"CH",label:"İsvi\xe7re"}],i=[{value:"WHATSAPP",label:"WhatsApp"},{value:"PHONE",label:"Telefon"},{value:"EMAIL",label:"E-posta"}];function s(){let[e,l]=(0,r.useState)(""),[t,s]=(0,r.useState)(""),[d,o]=(0,r.useState)(""),[u,c]=(0,r.useState)(""),[h,p]=(0,r.useState)(!1),[y,f]=(0,r.useState)(!1),[x,m]=(0,r.useState)(!1),[v,b]=(0,r.useState)(null),[g,j]=(0,r.useState)({}),[k,S]=(0,r.useState)(""),C=()=>{l(""),s(""),o(""),c(""),p(!1),j({}),S("")},P=async l=>{if(l.preventDefault(),j({}),S(""),!h){S("GDPR onayı zorunludur.");return}f(!0),m(!1),b(null);try{let l=await fetch("/api/lead",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({patientName:e,country:t,contactPreference:d,requestedProcedure:u,gdprConsent:h})});if(201===l.status){let e=await l.json();m(!0),b(e.id),C()}else if(400===l.status){let e=await l.json();e.fieldErrors&&j(e.fieldErrors)}else j({_form:["Bir hata oluştu. L\xfctfen tekrar deneyin."]})}catch(e){j({_form:["Bağlantı hatası. L\xfctfen tekrar deneyin."]})}finally{f(!1)}},z={width:"100%",padding:"8px 12px",border:"1px solid #ccc",borderRadius:4,fontSize:14},T={display:"block",marginBottom:4,fontWeight:500},B={marginBottom:16},E={color:"#dc2626",fontSize:13,marginTop:4};return(0,a.jsxs)("main",{style:{padding:32,maxWidth:500,margin:"0 auto"},children:[(0,a.jsx)("h1",{style:{marginBottom:24},children:"Lead Başvuru Formu"}),x&&(0,a.jsxs)("div",{style:{padding:16,backgroundColor:"#d1fae5",border:"1px solid #10b981",borderRadius:4,marginBottom:24,color:"#065f46"},children:[(0,a.jsx)("p",{style:{marginBottom:12},children:"✓ Başvurunuz alındı. En kısa s\xfcrede sizinle iletişime ge\xe7eceğiz."}),v&&(0,a.jsx)("a",{href:"/lead/".concat(v,"/chat"),style:{display:"inline-block",padding:"8px 16px",backgroundColor:"#059669",color:"#fff",borderRadius:4,textDecoration:"none",fontSize:14},children:"Mesajlaşmaya Ge\xe7 →"})]}),g._form&&(0,a.jsx)("div",{style:{padding:16,backgroundColor:"#fee2e2",border:"1px solid #dc2626",borderRadius:4,marginBottom:24,color:"#991b1b"},children:g._form[0]}),(0,a.jsxs)("form",{onSubmit:P,children:[(0,a.jsxs)("div",{style:B,children:[(0,a.jsx)("label",{style:T,htmlFor:"patientName",children:"Hasta Adı *"}),(0,a.jsx)("input",{id:"patientName",type:"text",value:e,onChange:e=>l(e.target.value),style:z,required:!0}),g.patientName&&(0,a.jsx)("div",{style:E,children:g.patientName[0]})]}),(0,a.jsxs)("div",{style:B,children:[(0,a.jsx)("label",{style:T,htmlFor:"country",children:"\xdclke *"}),(0,a.jsxs)("select",{id:"country",value:t,onChange:e=>s(e.target.value),style:z,required:!0,children:[(0,a.jsx)("option",{value:"",children:"Se\xe7iniz..."}),n.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))]}),g.country&&(0,a.jsx)("div",{style:E,children:g.country[0]})]}),(0,a.jsxs)("div",{style:B,children:[(0,a.jsx)("label",{style:T,children:"İletişim Tercihi *"}),(0,a.jsx)("div",{style:{display:"flex",gap:16,flexWrap:"wrap"},children:i.map(e=>(0,a.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:6},children:[(0,a.jsx)("input",{type:"radio",name:"contactPreference",value:e.value,checked:d===e.value,onChange:e=>o(e.target.value),required:!0}),e.label]},e.value))}),g.contactPreference&&(0,a.jsx)("div",{style:E,children:g.contactPreference[0]})]}),(0,a.jsxs)("div",{style:B,children:[(0,a.jsx)("label",{style:T,htmlFor:"requestedProcedure",children:"Talep Edilen İşlem *"}),(0,a.jsx)("textarea",{id:"requestedProcedure",value:u,onChange:e=>c(e.target.value),style:{...z,minHeight:100,resize:"vertical"},required:!0}),g.requestedProcedure&&(0,a.jsx)("div",{style:E,children:g.requestedProcedure[0]})]}),(0,a.jsxs)("div",{style:B,children:[(0,a.jsxs)("label",{style:{display:"flex",alignItems:"flex-start",gap:8},children:[(0,a.jsx)("input",{type:"checkbox",checked:h,onChange:e=>p(e.target.checked),style:{marginTop:4}}),(0,a.jsx)("span",{style:{fontSize:13},children:"Kişisel verilerimin işlenmesini ve GDPR/KVKK kapsamında saklanmasını kabul ediyorum. *"})]}),k&&(0,a.jsx)("div",{style:E,children:k}),g.gdprConsent&&(0,a.jsx)("div",{style:E,children:g.gdprConsent[0]})]}),(0,a.jsx)("button",{type:"submit",disabled:y,style:{width:"100%",padding:"12px 24px",backgroundColor:y?"#9ca3af":"#2563eb",color:"#fff",border:"none",borderRadius:4,fontSize:16,fontWeight:500,cursor:y?"not-allowed":"pointer"},children:y?"G\xf6nderiliyor…":"Başvuru G\xf6nder"})]}),(0,a.jsx)("p",{style:{marginTop:24,fontSize:13,color:"#6b7280"},children:(0,a.jsx)("a",{href:"/",style:{color:"#2563eb"},children:"← Ana Sayfaya D\xf6n"})})]})}}},function(e){e.O(0,[971,23,744],function(){return e(e.s=1364)}),_N_E=e.O()}]);