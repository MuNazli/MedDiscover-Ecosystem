(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[326],{5778:function(e,t,r){Promise.resolve().then(r.bind(r,4704))},4704:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return n}});var l=r(7437),s=r(2265),a=r(154),c=r(2036),d=r(9064);function n(){let{uiLocale:e}=(0,c.s)("de"),[t,r]=(0,s.useState)([]),[n,i]=(0,s.useState)(!0),[o,x]=(0,s.useState)(!1);(0,s.useEffect)(()=>{let e=!0;return i(!0),x(!1),fetch("/api/cms/leads",{method:"GET"}).then(async t=>{if(!t.ok)throw Error("Failed");let l=await t.json();e&&r(Array.isArray(l.leads)?l.leads:[])}).catch(()=>{e&&x(!0)}).finally(()=>{e&&i(!1)}),()=>{e=!1}},[]);let b=t=>(0,a.t)(e,"leadStatus.".concat(t)),u=e=>e>=70?"bg-green-100 text-green-800 border-green-300":e>=50?"bg-yellow-100 text-yellow-800 border-yellow-300":"bg-red-100 text-red-800 border-red-300";return(0,l.jsxs)("main",{className:"min-h-screen bg-white",children:[(0,l.jsx)("div",{className:"border-b border-black/10",children:(0,l.jsx)("div",{className:"mx-auto flex w-full max-w-[1200px] flex-col gap-3 px-6 py-6 md:flex-row md:items-center md:justify-between",children:(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-2xl font-semibold text-black",children:(0,a.t)(e,"leads.title")}),(0,l.jsx)("p",{className:"text-[13px] text-black/60",children:(0,a.t)(e,"leads.subtitle")})]})})}),(0,l.jsxs)("section",{className:"mx-auto w-full max-w-[1200px] px-6 py-8",children:[n&&(0,l.jsx)("div",{className:"text-[13px] text-black/60",children:(0,a.t)(e,"leads.loading")}),!n&&o&&(0,l.jsx)("div",{className:"rounded-xl border border-black/10 bg-white p-6 text-center text-[14px] text-black/70",children:(0,a.t)(e,"leads.empty")}),!n&&!o&&0===t.length&&(0,l.jsx)("div",{className:"rounded-xl border border-black/10 bg-white p-6 text-center text-[14px] text-black/70",children:(0,a.t)(e,"leads.empty")}),!n&&!o&&t.length>0&&(0,l.jsxs)("div",{className:"overflow-hidden rounded-xl border border-black/10 bg-white",children:[(0,l.jsxs)("div",{className:"grid grid-cols-[160px_1.4fr_180px_140px_120px] gap-3 border-b border-black/10 bg-black/5 px-4 py-3 text-[12px] font-semibold uppercase tracking-wide text-black/60",children:[(0,l.jsx)("div",{children:(0,a.t)(e,"leads.tableDate")}),(0,l.jsx)("div",{children:(0,a.t)(e,"leads.tableName")}),(0,l.jsx)("div",{children:(0,a.t)(e,"trustScore.label")}),(0,l.jsx)("div",{children:(0,a.t)(e,"leads.tableStatus")}),(0,l.jsx)("div",{children:(0,a.t)(e,"leads.tableActions")})]}),t.map(t=>{let r=t.name||t.patientName||"-";return(0,l.jsxs)("div",{className:"grid grid-cols-[160px_1.4fr_180px_140px_120px] gap-3 border-b border-black/5 px-4 py-3 text-[13px] text-black last:border-b-0",children:[(0,l.jsx)("div",{className:"text-[12px] text-black/60",children:new Date(t.createdAt).toLocaleDateString()}),(0,l.jsx)("div",{className:"font-semibold",children:r?(0,d.u3)(r):"-"}),(0,l.jsx)("div",{children:(0,l.jsxs)("span",{className:"inline-flex items-center gap-1.5 rounded-md border px-2.5 py-1 text-[11px] font-semibold ".concat(u(t.trustScore)),children:[t.trustScore," â€¢ ",(0,a.t)(e,"trustScore.status.".concat(t.trustStatus))]})}),(0,l.jsx)("div",{className:"text-[12px] font-semibold",children:b(t.status)}),(0,l.jsx)("div",{children:(0,l.jsx)("a",{href:"/cms/leads/".concat(t.id),className:"rounded-lg border border-black/20 px-3 py-1 text-[12px] font-semibold text-black hover:bg-black/5",children:(0,a.t)(e,"leads.viewDetails")})})]},t.id)})]})]})]})}},9064:function(e,t,r){"use strict";function l(e){var t;let[r,l]=e.split("@");if(!r||!l)return e;let s=null!==(t=r[0])&&void 0!==t?t:"";return"".concat(s,"***@").concat(l)}function s(e){let t=e.replace(/\D/g,"");if(t.length<=3)return"".concat(t,"***");let r=t.slice(-3);return"***".concat(r)}function a(e){var t;if(!e)return e;let r=null!==(t=e.trim()[0])&&void 0!==t?t:"";return"".concat(r,"***")}r.d(t,{of:function(){return l},u3:function(){return a},yD:function(){return s}})}},function(e){e.O(0,[36,971,23,744],function(){return e(e.s=5778)}),_N_E=e.O()}]);