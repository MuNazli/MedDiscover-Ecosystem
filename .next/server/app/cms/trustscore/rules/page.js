(()=>{var e={};e.id=4415,e.ids=[4415],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5809:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>o,routeModule:()=>p,tree:()=>d}),s(9478),s(6042),s(5866);var r=s(3191),a=s(8716),l=s(7922),i=s.n(l),c=s(5231),n={};for(let e in c)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>c[e]);s.d(t,n);let d=["",{children:["cms",{children:["trustscore",{children:["rules",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,9478)),"C:\\Users\\MustafaNazliHamiTour\\Desktop\\MedDiscover\\03-platform\\M01-lead-intake\\src\\app\\cms\\trustscore\\rules\\page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,6042)),"C:\\Users\\MustafaNazliHamiTour\\Desktop\\MedDiscover\\03-platform\\M01-lead-intake\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\Users\\MustafaNazliHamiTour\\Desktop\\MedDiscover\\03-platform\\M01-lead-intake\\src\\app\\cms\\trustscore\\rules\\page.tsx"],x="/cms/trustscore/rules/page",u={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/cms/trustscore/rules/page",pathname:"/cms/trustscore/rules",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},7298:(e,t,s)=>{Promise.resolve().then(s.bind(s,308))},308:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var r=s(326),a=s(7577),l=s(7234),i=s(8434),c=s(2068);function n(){let{uiLocale:e,setUiLocale:t}=(0,i.s)("de"),[s,n]=(0,a.useState)([]),[d,o]=(0,a.useState)(!0),[x,u]=(0,a.useState)(!1),[p,b]=(0,a.useState)(null),[m,h]=(0,a.useState)(null),[v,g]=(0,a.useState)({}),f=e=>{let t=v[e.code];return!!t&&(t.delta!==e.delta||t.isActive!==e.isActive)},j=(e,t)=>{if(!Number.isFinite(t))return;let s=Math.min(100,Math.max(-100,Math.trunc(t)));n(t=>t.map(t=>t.code===e?{...t,delta:s}:t))},k=e=>{n(t=>t.map(t=>t.code===e?{...t,isActive:!t.isActive}:t))},y=e=>{let t=v[e];t&&n(s=>s.map(s=>s.code===e?{...s,delta:t.delta,isActive:t.isActive}:s))},N=async e=>{let t=s.find(t=>t.code===e);if(t){n(t=>t.map(t=>t.code===e?{...t,saving:!0}:t));try{let s=await fetch(`/api/cms/trustscore/rules/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({delta:t.delta,isActive:t.isActive})});if(!s.ok)throw Error("Failed");let r=(await s.json()).rule;n(t=>t.map(t=>t.code===e?{...t,...r,saving:!1}:t)),g(t=>({...t,[e]:{delta:r.delta,isActive:r.isActive}})),b(e),h(Date.now())}catch{n(t=>t.map(t=>t.code===e?{...t,saving:!1}:t)),u(!0)}}},w=(0,a.useMemo)(()=>p&&m?10>Math.floor((Date.now()-m)/1e3)?(0,l.t)(e,"trustRules.saved"):(0,l.t)(e,"trustRules.savedRecently"):null,[p,m,e]);return d?(0,r.jsxs)("main",{className:"min-h-screen bg-white",children:[r.jsx("div",{className:"border-b border-black/10",children:(0,r.jsxs)("div",{className:"mx-auto flex w-full max-w-[1200px] items-center justify-between px-6 py-6",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-2xl font-semibold text-black",children:(0,l.t)(e,"trustRules.title")}),r.jsx("p",{className:"text-[13px] text-black/60",children:(0,l.t)(e,"trustRules.subtitle")})]}),r.jsx(c.Z,{currentLocale:e,onLocaleChange:t})]})}),r.jsx("section",{className:"mx-auto w-full max-w-[1200px] px-6 py-8 text-[13px] text-black/60",children:(0,l.t)(e,"general.loading")})]}):x?(0,r.jsxs)("main",{className:"min-h-screen bg-white",children:[r.jsx("div",{className:"border-b border-black/10",children:(0,r.jsxs)("div",{className:"mx-auto flex w-full max-w-[1200px] items-center justify-between px-6 py-6",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-2xl font-semibold text-black",children:(0,l.t)(e,"trustRules.title")}),r.jsx("p",{className:"text-[13px] text-black/60",children:(0,l.t)(e,"trustRules.subtitle")})]}),r.jsx(c.Z,{currentLocale:e,onLocaleChange:t})]})}),r.jsx("section",{className:"mx-auto w-full max-w-[1200px] px-6 py-8",children:r.jsx("div",{className:"rounded-xl border border-red-200 bg-red-50 p-4 text-[13px] text-red-800",children:(0,l.t)(e,"trustRules.error")})})]}):(0,r.jsxs)("main",{className:"min-h-screen bg-white",children:[r.jsx("div",{className:"border-b border-black/10",children:(0,r.jsxs)("div",{className:"mx-auto flex w-full max-w-[1200px] items-center justify-between px-6 py-6",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-2xl font-semibold text-black",children:(0,l.t)(e,"trustRules.title")}),r.jsx("p",{className:"text-[13px] text-black/60",children:(0,l.t)(e,"trustRules.subtitle")})]}),r.jsx(c.Z,{currentLocale:e,onLocaleChange:t})]})}),(0,r.jsxs)("section",{className:"mx-auto w-full max-w-[1200px] px-6 py-8",children:[0===s.length&&r.jsx("div",{className:"rounded-xl border border-black/10 bg-white p-6 text-center text-[14px] text-black/60",children:(0,l.t)(e,"trustRules.empty")}),s.length>0&&r.jsx("div",{className:"overflow-x-auto rounded-xl border border-black/10 bg-white",children:(0,r.jsxs)("div",{className:"min-w-[760px]",children:[(0,r.jsxs)("div",{className:"grid grid-cols-[1.2fr_1fr_120px_90px_160px_140px] gap-3 border-b border-black/10 bg-black/5 px-4 py-3 text-[12px] font-semibold uppercase tracking-wide text-black/60",children:[r.jsx("div",{children:(0,l.t)(e,"trustRules.tableRule")}),r.jsx("div",{children:(0,l.t)(e,"trustRules.tableCode")}),r.jsx("div",{children:(0,l.t)(e,"trustRules.tableDelta")}),r.jsx("div",{children:(0,l.t)(e,"trustRules.tableActive")}),r.jsx("div",{children:(0,l.t)(e,"trustRules.tableUpdated")}),r.jsx("div",{children:(0,l.t)(e,"trustRules.tableActions")})]}),s.map(t=>{let s=(0,l.t)(e,t.titleKey)||t.code,a=(0,l.t)(e,t.descriptionKey)||"",i=f(t);return(0,r.jsxs)("div",{className:"grid grid-cols-[1.2fr_1fr_120px_90px_160px_140px] gap-3 border-b border-black/5 px-4 py-3 text-[13px] text-black last:border-b-0",children:[(0,r.jsxs)("div",{children:[r.jsx("div",{className:"font-semibold text-black",children:s}),a&&r.jsx("div",{className:"text-[11px] text-black/50",children:a})]}),r.jsx("div",{className:"font-mono text-[12px] text-black/70",children:t.code}),r.jsx("div",{children:r.jsx("input",{type:"number",min:-100,max:100,value:t.delta,onChange:e=>j(t.code,e.target.valueAsNumber),className:"h-9 w-full rounded-lg border border-black/20 px-2 text-[12px] text-black focus:border-black focus:outline-none","aria-label":(0,l.t)(e,"trustRules.tableDelta")})}),r.jsx("div",{children:(0,r.jsxs)("label",{className:"flex items-center gap-2 text-[12px] text-black/70",children:[r.jsx("input",{type:"checkbox",checked:t.isActive,onChange:()=>k(t.code),className:"h-4 w-4 accent-black","aria-label":(0,l.t)(e,"trustRules.tableActive")}),t.isActive?(0,l.t)(e,"trustRules.active"):(0,l.t)(e,"trustRules.inactive")]})}),r.jsx("div",{className:"text-[12px] text-black/60",children:new Date(t.updatedAt).toLocaleString()}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("button",{type:"button",onClick:()=>N(t.code),disabled:t.saving||!i,className:"rounded-lg border border-black/20 px-3 py-1 text-[12px] font-semibold text-black hover:bg-black/5 disabled:cursor-not-allowed disabled:opacity-50",children:t.saving?(0,l.t)(e,"trustRules.saving"):(0,l.t)(e,"trustRules.save")}),r.jsx("button",{type:"button",onClick:()=>y(t.code),disabled:t.saving||!i,className:"rounded-lg border border-black/10 px-3 py-1 text-[12px] text-black/60 hover:bg-black/5 disabled:cursor-not-allowed disabled:opacity-40",children:(0,l.t)(e,"trustRules.reset")}),p===t.code&&w&&r.jsx("span",{className:"text-[11px] text-green-700",children:w}),i&&r.jsx("span",{className:"text-[11px] text-yellow-700",children:(0,l.t)(e,"trustRules.unsaved")})]})]},t.code)})]})})]})]})}},2068:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var r=s(326),a=s(7234);function l({currentLocale:e,onLocaleChange:t}){return(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12},children:[r.jsx("span",{style:{fontSize:13,color:"#64748b",fontWeight:500},children:(0,a.t)(e,"general.panelLanguage")}),r.jsx("div",{style:{display:"flex",gap:4,background:"#f8fafc",padding:4,borderRadius:6,border:"1px solid #e5e7eb"},children:a.kU.map(s=>r.jsx("button",{onClick:()=>t(s),style:{padding:"6px 12px",border:"none",borderRadius:4,background:e===s?"linear-gradient(135deg, #2EC4B6, #0FA3B1)":"transparent",color:e===s?"#fff":"#64748b",cursor:"pointer",fontSize:13,fontWeight:e===s?600:500,transition:"all 0.2s ease"},children:s.toUpperCase()},s))})]})}},9478:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>i,__esModule:()=>l,default:()=>c});var r=s(8570);let a=(0,r.createProxy)(String.raw`C:\Users\MustafaNazliHamiTour\Desktop\MedDiscover\03-platform\M01-lead-intake\src\app\cms\trustscore\rules\page.tsx`),{__esModule:l,$$typeof:i}=a;a.default;let c=(0,r.createProxy)(String.raw`C:\Users\MustafaNazliHamiTour\Desktop\MedDiscover\03-platform\M01-lead-intake\src\app\cms\trustscore\rules\page.tsx#default`)}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[8948,4471,6333],()=>s(5809));module.exports=r})();