(()=>{var e={};e.id=9172,e.ids=[9172],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6257:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>d.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>o,routeModule:()=>b,tree:()=>n}),s(465),s(6042),s(5866);var a=s(3191),r=s(8716),l=s(7922),d=s.n(l),i=s(5231),c={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>i[e]);s.d(t,c);let n=["",{children:["cms",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,465)),"C:\\Users\\MustafaNazliHamiTour\\Desktop\\MedDiscover\\03-platform\\M01-lead-intake\\src\\app\\cms\\dashboard\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,6042)),"C:\\Users\\MustafaNazliHamiTour\\Desktop\\MedDiscover\\03-platform\\M01-lead-intake\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\Users\\MustafaNazliHamiTour\\Desktop\\MedDiscover\\03-platform\\M01-lead-intake\\src\\app\\cms\\dashboard\\page.tsx"],x="/cms/dashboard/page",u={require:s,loadChunk:()=>Promise.resolve()},b=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/cms/dashboard/page",pathname:"/cms/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:n}})},5845:(e,t,s)=>{Promise.resolve().then(s.bind(s,5193))},5193:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var a=s(326),r=s(7577),l=s(7234),d=s(8434),i=s(2068);function c(){let{uiLocale:e,setUiLocale:t}=(0,d.s)("de"),[s,c]=(0,r.useState)(null),[n,o]=(0,r.useState)(null),[x,u]=(0,r.useState)(!0),[b,m]=(0,r.useState)(!1),h=t=>{let s=`leadAudit.${t}`;return(0,l.t)(e,s)},p=t=>{let s=new Date,a=new Date(t),r=s.getTime()-a.getTime(),d=Math.floor(r/6e4),i=Math.floor(r/36e5);return d<1?(0,l.t)(e,"dashboard.timeJustNow"):d<60?`${d}${(0,l.t)(e,"dashboard.timeMinutesAgo")}`:i<24?`${i}${(0,l.t)(e,"dashboard.timeHoursAgo")}`:`${Math.floor(r/864e5)}${(0,l.t)(e,"dashboard.timeDaysAgo")}`},g=e=>"STATUS_CHANGED"===e?"S":"NOTE_ADDED"===e?"N":"?",j=()=>{if(!s)return null;let{last24h:e,last7d:t}=s.totals;if(0===t)return null;let a=t/7;return 0===a?null:(e-a)/a*100};return x?(0,a.jsxs)("main",{className:"min-h-screen bg-white",children:[a.jsx("div",{className:"border-b border-black/10",children:(0,a.jsxs)("div",{className:"mx-auto flex w-full max-w-[1200px] items-center justify-between px-6 py-6",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold text-black",children:(0,l.t)(e,"dashboard.title")}),a.jsx("p",{className:"text-[13px] text-black/60",children:(0,l.t)(e,"dashboard.subtitle")})]}),a.jsx(i.Z,{currentLocale:e,onLocaleChange:t})]})}),a.jsx("section",{className:"mx-auto w-full max-w-[1200px] px-6 py-8 text-[13px] text-black/60",children:(0,l.t)(e,"general.loading")})]}):b||!s?(0,a.jsxs)("main",{className:"min-h-screen bg-white",children:[a.jsx("div",{className:"border-b border-black/10",children:(0,a.jsxs)("div",{className:"mx-auto flex w-full max-w-[1200px] items-center justify-between px-6 py-6",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold text-black",children:(0,l.t)(e,"dashboard.title")}),a.jsx("p",{className:"text-[13px] text-black/60",children:(0,l.t)(e,"dashboard.subtitle")})]}),a.jsx(i.Z,{currentLocale:e,onLocaleChange:t})]})}),a.jsx("section",{className:"mx-auto w-full max-w-[1200px] px-6 py-8",children:a.jsx("div",{className:"rounded-xl border border-red-200 bg-red-50 p-4 text-[13px] text-red-800",children:(0,l.t)(e,"dashboard.error")})})]}):(0,a.jsxs)("main",{className:"min-h-screen bg-white",children:[a.jsx("div",{className:"border-b border-black/10",children:(0,a.jsxs)("div",{className:"mx-auto flex w-full max-w-[1200px] items-center justify-between px-6 py-6",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold text-black",children:(0,l.t)(e,"dashboard.title")}),a.jsx("p",{className:"text-[13px] text-black/60",children:(0,l.t)(e,"dashboard.subtitle")})]}),a.jsx(i.Z,{currentLocale:e,onLocaleChange:t})]})}),(0,a.jsxs)("section",{className:"mx-auto w-full max-w-[1200px] px-6 py-8",children:[(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,a.jsxs)("div",{className:"rounded-xl border border-black/10 bg-white p-4",children:[a.jsx("div",{className:"text-[12px] uppercase tracking-wide text-black/50",children:(0,l.t)(e,"dashboard.kpiTotal")}),a.jsx("div",{className:"mt-2 text-3xl font-bold text-black",children:s.totals.total})]}),(0,a.jsxs)("div",{className:"rounded-xl border border-black/10 bg-white p-4",children:[a.jsx("div",{className:"text-[12px] uppercase tracking-wide text-black/50",children:(0,l.t)(e,"dashboard.kpiLast7d")}),a.jsx("div",{className:"mt-2 text-3xl font-bold text-black",children:s.totals.last7d})]}),(0,a.jsxs)("div",{className:"rounded-xl border border-black/10 bg-white p-4",children:[a.jsx("div",{className:"text-[12px] uppercase tracking-wide text-black/50",children:(0,l.t)(e,"dashboard.kpiLast24h")}),(0,a.jsxs)("div",{className:"mt-2 flex items-end gap-2",children:[a.jsx("span",{className:"text-3xl font-bold text-black",children:s.totals.last24h}),(()=>{let e=j();if(null!==e){let t=e>0;return(0,a.jsxs)("span",{className:`text-[11px] font-semibold ${t?"text-green-600":"text-red-600"}`,children:[t?"+":"-"," ",Math.abs(Math.round(e)),"%"]})}return null})()]})]}),(0,a.jsxs)("div",{className:"rounded-xl border border-black/10 bg-white p-4",children:[a.jsx("div",{className:"text-[12px] uppercase tracking-wide text-black/50",children:(0,l.t)(e,"dashboard.kpiOpen")}),a.jsx("div",{className:"mt-2 text-3xl font-bold text-black",children:s.totals.open})]})]}),n&&(0,a.jsxs)("div",{className:"mt-4 grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,a.jsxs)("div",{className:"rounded-xl border border-green-200 bg-green-50 p-4",children:[a.jsx("div",{className:"text-[12px] uppercase tracking-wide text-green-700",children:(0,l.t)(e,"trustScore.avgScore")}),a.jsx("div",{className:"mt-2 text-3xl font-bold text-green-800",children:n.avgScore}),a.jsx("div",{className:"mt-2 h-1.5 w-full overflow-hidden rounded-full bg-black/10",children:a.jsx("div",{className:n.avgScore>=70?"h-full bg-green-600":n.avgScore>=50?"h-full bg-yellow-600":"h-full bg-red-600",style:{width:`${Math.min(100,Math.max(0,n.avgScore||0))}%`},"aria-label":`Score: ${n.avgScore}%`})})]}),(0,a.jsxs)("div",{className:"rounded-xl border border-green-200 bg-green-50 p-4",children:[a.jsx("div",{className:"text-[12px] uppercase tracking-wide text-green-700",children:(0,l.t)(e,"trustScore.active")}),a.jsx("div",{className:"mt-2 text-3xl font-bold text-green-800",children:n.counts.active})]}),(0,a.jsxs)("div",{className:"rounded-xl border border-yellow-200 bg-yellow-50 p-4",children:[a.jsx("div",{className:"text-[12px] uppercase tracking-wide text-yellow-700",children:(0,l.t)(e,"trustScore.riskyHidden")}),a.jsx("div",{className:"mt-2 text-3xl font-bold text-yellow-800",children:n.counts.riskyHidden})]}),(0,a.jsxs)("div",{className:"rounded-xl border border-red-200 bg-red-50 p-4",children:[a.jsx("div",{className:"text-[12px] uppercase tracking-wide text-red-700",children:(0,l.t)(e,"trustScore.blacklisted")}),a.jsx("div",{className:"mt-2 text-3xl font-bold text-red-800",children:n.counts.blacklisted})]})]}),(0,a.jsxs)("div",{className:"mt-6 grid gap-6 md:grid-cols-3",children:[(0,a.jsxs)("div",{className:"rounded-xl border border-black/10 bg-white p-4",children:[a.jsx("div",{className:"mb-4 text-[14px] font-semibold text-black",children:(0,l.t)(e,"dashboard.statusOverview")}),a.jsx("div",{className:"space-y-3",children:(()=>{let t=s.statusCounts.NEW+s.statusCounts.IN_REVIEW+s.statusCounts.OFFER_SENT+s.statusCounts.CLOSED;return[{key:"NEW",count:s.statusCounts.NEW,color:"bg-blue-500"},{key:"IN_REVIEW",count:s.statusCounts.IN_REVIEW,color:"bg-purple-500"},{key:"OFFER_SENT",count:s.statusCounts.OFFER_SENT,color:"bg-orange-500"},{key:"CLOSED",count:s.statusCounts.CLOSED,color:"bg-green-500"}].map(s=>{let r=t>0?Math.round(s.count/t*100):0;return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mb-1 flex items-center justify-between text-[12px]",children:[a.jsx("span",{className:"text-black/70",children:(0,l.t)(e,`leadStatus.${s.key}`)}),(0,a.jsxs)("span",{className:"font-semibold text-black",children:[s.count," ",(0,a.jsxs)("span",{className:"text-black/50",children:["(",r,"%)"]})]})]}),a.jsx("div",{className:"h-2 w-full overflow-hidden rounded-full bg-black/5",children:a.jsx("div",{className:`h-full ${s.color}`,style:{width:`${r}%`},"aria-label":`${s.key}: ${r}%`})})]},s.key)})})()})]}),n&&(0,a.jsxs)("div",{className:"rounded-xl border border-black/10 bg-white p-4",children:[a.jsx("div",{className:"mb-4 text-[14px] font-semibold text-black",children:(0,l.t)(e,"dashboard.trustScoreDistribution")}),(()=>{let t=n.counts.active+n.counts.riskyHidden+n.counts.blacklisted,s=[{key:"ACTIVE",count:n.counts.active,color:"bg-green-500"},{key:"RISKY_HIDDEN",count:n.counts.riskyHidden,color:"bg-yellow-500"},{key:"BLACKLISTED",count:n.counts.blacklisted,color:"bg-red-500"}];return(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"mb-3 flex h-8 w-full overflow-hidden rounded-lg",children:0===t?a.jsx("div",{className:"flex h-full w-full items-center justify-center bg-black/5 text-[11px] text-black/50",children:(0,l.t)(e,"dashboard.noData")}):s.map(e=>{let s=t>0?e.count/t*100:0;return 0===s?null:a.jsx("div",{className:`${e.color} flex items-center justify-center text-[10px] font-semibold text-white`,style:{width:`${s}%`},"aria-label":`${e.key}: ${Math.round(s)}%`,children:s>10&&Math.round(s)+"%"},e.key)})}),a.jsx("div",{className:"space-y-2",children:s.map(s=>{let r=t>0?Math.round(s.count/t*100):0;return(0,a.jsxs)("div",{className:"flex items-center justify-between text-[12px]",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:`h-2.5 w-2.5 rounded-full ${s.color}`}),a.jsx("span",{className:"text-black/70",children:(0,l.t)(e,`trustScore.status.${s.key}`)})]}),(0,a.jsxs)("span",{className:"font-semibold text-black",children:[s.count," ",(0,a.jsxs)("span",{className:"text-black/50",children:["(",r,"%)"]})]})]},s.key)})})]})})()]}),(0,a.jsxs)("div",{className:"rounded-xl border border-black/10 bg-white p-4",children:[a.jsx("div",{className:"mb-4 text-[14px] font-semibold text-black",children:(0,l.t)(e,"dashboard.recentActivity")}),(0,a.jsxs)("div",{className:"space-y-2",children:[0===s.recentAudits.length&&a.jsx("div",{className:"rounded-lg border border-black/10 bg-black/5 p-3 text-center text-[12px] text-black/60",children:(0,l.t)(e,"dashboard.noActivity")}),s.recentAudits.slice(0,8).map(t=>(0,a.jsxs)("div",{className:"flex items-start gap-2 rounded-lg border border-black/10 px-3 py-2",children:[a.jsx("div",{className:"flex h-6 w-6 flex-shrink-0 items-center justify-center rounded-full bg-black/5 text-[14px]",children:g(t.action)}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"text-[12px] font-medium text-black",children:h(t.action)}),(0,a.jsxs)("div",{className:"text-[11px] text-black/50 truncate",children:[(0,l.t)(e,"dashboard.leadLabel"),": ",t.leadId.substring(0,8),"..."]})]}),a.jsx("div",{className:"flex-shrink-0 text-right text-[11px] text-black/50",children:p(t.createdAt)})]},t.id))]})]})]}),n&&n.topRisky.length>0&&(0,a.jsxs)("div",{className:"mt-6 rounded-xl border border-black/10 bg-white p-4",children:[a.jsx("div",{className:"mb-4 text-[14px] font-semibold text-black",children:(0,l.t)(e,"trustScore.topRisky")}),a.jsx("div",{className:"grid gap-2 md:grid-cols-2 lg:grid-cols-3",children:n.topRisky.map(t=>{let s="BLACKLISTED"===t.trustStatus?"bg-red-50 border-red-200":"bg-yellow-50 border-yellow-200",r="BLACKLISTED"===t.trustStatus?"text-red-800":"text-yellow-800";return(0,a.jsxs)("div",{className:`flex items-center justify-between rounded-lg border px-3 py-2 ${s}`,children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:`text-[12px] font-medium ${r} truncate`,children:[(0,l.t)(e,"dashboard.leadLabel"),": ",t.leadId.substring(0,8),"..."]}),a.jsx("div",{className:"text-[11px] text-black/50",children:(0,l.t)(e,`trustScore.status.${t.trustStatus}`)})]}),a.jsx("div",{className:`flex-shrink-0 text-[16px] font-bold ${r}`,children:t.score})]},t.leadId)})})]})]})]})}},2068:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var a=s(326),r=s(7234);function l({currentLocale:e,onLocaleChange:t}){return(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12},children:[a.jsx("span",{style:{fontSize:13,color:"#64748b",fontWeight:500},children:(0,r.t)(e,"general.panelLanguage")}),a.jsx("div",{style:{display:"flex",gap:4,background:"#f8fafc",padding:4,borderRadius:6,border:"1px solid #e5e7eb"},children:r.kU.map(s=>a.jsx("button",{onClick:()=>t(s),style:{padding:"6px 12px",border:"none",borderRadius:4,background:e===s?"linear-gradient(135deg, #2EC4B6, #0FA3B1)":"transparent",color:e===s?"#fff":"#64748b",cursor:"pointer",fontSize:13,fontWeight:e===s?600:500,transition:"all 0.2s ease"},children:s.toUpperCase()},s))})]})}},465:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>d,__esModule:()=>l,default:()=>i});var a=s(8570);let r=(0,a.createProxy)(String.raw`C:\Users\MustafaNazliHamiTour\Desktop\MedDiscover\03-platform\M01-lead-intake\src\app\cms\dashboard\page.tsx`),{__esModule:l,$$typeof:d}=r;r.default;let i=(0,a.createProxy)(String.raw`C:\Users\MustafaNazliHamiTour\Desktop\MedDiscover\03-platform\M01-lead-intake\src\app\cms\dashboard\page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[8948,4471,6333],()=>s(6257));module.exports=a})();